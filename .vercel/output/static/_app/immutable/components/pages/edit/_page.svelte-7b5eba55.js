import{S as se,i as ne,s as ae,k as E,q as P,a as S,l as w,m as O,r as R,h as _,c as U,n as u,b as J,G as f,J as F,B,K as ie,o as oe,M as q,e as Q,I as ue,f as V,t as z,d as re,v as x,w as $,x as de,y as ee,N as fe,O as pe,g as ce,z as te,P as he}from"../../../chunks/index-d0c9c8b6.js";function me(r){let e,a,c,i,s,m,n,d,o,v,b,g,k,p,t,l,h,N,D,I,T,y,H,K,M;return{c(){e=E("div"),a=E("h1"),c=P("Edit Deck"),i=S(),s=E("input"),m=S(),n=E("hr"),d=S(),o=E("div"),v=E("div"),b=E("div"),g=E("input"),k=S(),p=E("input"),t=S(),l=E("button"),h=P("Delete"),N=S(),D=E("button"),I=P("Add Card"),T=S(),y=E("button"),H=P("Save Deck"),this.h()},l(L){e=w(L,"DIV",{class:!0});var C=O(e);a=w(C,"H1",{class:!0});var G=O(a);c=R(G,"Edit Deck"),G.forEach(_),i=U(C),s=w(C,"INPUT",{class:!0,name:!0,placeholder:!0}),m=U(C),n=w(C,"HR",{class:!0}),C.forEach(_),d=U(L),o=w(L,"DIV",{class:!0});var j=O(o);v=w(j,"DIV",{class:!0});var W=O(v);b=w(W,"DIV",{class:!0});var A=O(b);g=w(A,"INPUT",{name:!0,placeholder:!0,class:!0}),k=U(A),p=w(A,"INPUT",{name:!0,placeholder:!0,class:!0}),t=U(A),l=w(A,"BUTTON",{class:!0});var X=O(l);h=R(X,"Delete"),X.forEach(_),A.forEach(_),W.forEach(_),N=U(j),D=w(j,"BUTTON",{class:!0});var Y=O(D);I=R(Y,"Add Card"),Y.forEach(_),T=U(j),y=w(j,"BUTTON",{class:!0});var Z=O(y);H=R(Z,"Save Deck"),Z.forEach(_),j.forEach(_),this.h()},h(){u(a,"class","svelte-1kppmr0"),u(s,"class","header-input svelte-1kppmr0"),u(s,"name","deck-name"),u(s,"placeholder","Deck Name"),s.value=r[0],u(n,"class","svelte-1kppmr0"),u(e,"class","header svelte-1kppmr0"),u(g,"name","flashcard-question"),g.value="",u(g,"placeholder","Question"),u(g,"class","svelte-1kppmr0"),u(p,"name","flashcard-answer"),p.value="",u(p,"placeholder","Answer"),u(p,"class","svelte-1kppmr0"),u(l,"class","svelte-1kppmr0"),u(b,"class","input-row svelte-1kppmr0"),u(v,"class","inputs svelte-1kppmr0"),u(D,"class","svelte-1kppmr0"),u(y,"class","svelte-1kppmr0"),u(o,"class","form svelte-1kppmr0")},m(L,C){J(L,e,C),f(e,a),f(a,c),f(e,i),f(e,s),r[8](s),f(e,m),f(e,n),J(L,d,C),J(L,o,C),f(o,v),f(v,b),f(b,g),f(b,k),f(b,p),f(b,t),f(b,l),f(l,h),r[9](b),r[10](v),f(o,N),f(o,D),f(D,I),f(o,T),f(o,y),f(y,H),K||(M=[F(l,"click",r[5]),F(D,"click",r[4]),F(y,"click",r[6])],K=!0)},p(L,[C]){C&1&&s.value!==L[0]&&(s.value=L[0])},i:B,o:B,d(L){L&&_(e),r[8](null),L&&_(d),L&&_(o),r[9](null),r[10](null),K=!1,ie(M)}}}function _e(r,e,a){let c=document.createElement("a"),i=new Blob([r],{type:a});c.href=URL.createObjectURL(i),c.download=e,document.body.appendChild(c),c.click(),c.remove()}function ve(r,e,a){let{setDeckName:c}=e,{cardsJSON:i}=e,s,m,n,d;oe(()=>{d=n.classList,console.log(i);for(let[t,l]of Object.entries(i.cards))o("",t,l);n.remove()});function o(t="",l="",h=""){let N=document.createElement("div");for(let y of d)N.classList.add(y);let D=document.createElement("input");for(let y of n.children[0].classList)D.name="flashcard-question",D.placeholder="Question",D.value=l,D.classList.add(y);let I=document.createElement("input");for(let y of n.children[1].classList)I.name="flashcard-question",I.placeholder="Question",I.value=h,I.classList.add(y);let T=document.createElement("button");T.textContent="Delete",T.onclick=v;for(let y of n.children[2].classList)T.classList.add(y);N.appendChild(D),N.appendChild(I),N.appendChild(T),s.appendChild(N)}function v(){this.parentElement.remove(),console.log(s)}function b(){let t=s.children,l={cards:{}};for(let h of t){let N=h.children;l.cards[N[0].value]!==void 0||N[0].value===""||N[1].value===""||(l.cards[N[0].value]=N[1].value)}_e(JSON.stringify(l),`${m.value}.json`,"text/plain")}function g(t){q[t?"unshift":"push"](()=>{m=t,a(2,m)})}function k(t){q[t?"unshift":"push"](()=>{n=t,a(3,n)})}function p(t){q[t?"unshift":"push"](()=>{s=t,a(1,s)})}return r.$$set=t=>{"setDeckName"in t&&a(0,c=t.setDeckName),"cardsJSON"in t&&a(7,i=t.cardsJSON)},[c,s,m,n,o,v,b,i,g,k,p]}class ke extends se{constructor(e){super(),ne(this,e,ve,me,ae,{setDeckName:0,cardsJSON:7})}}function be(r){return document.title="Edit - "+r[2],{c:B,l:B,m:B,d:B}}function Ne(r){return{c(){this.h()},l(e){this.h()},h(){document.title="Edit"},m:B,d:B}}function le(r){let e,a,c;const i=[r[5]];var s=r[6];function m(n){let d={};for(let o=0;o<i.length;o+=1)d=he(d,i[o]);return{props:d}}return s&&(e=x(s,m())),{c(){e&&$(e.$$.fragment),a=Q()},l(n){e&&de(e.$$.fragment,n),a=Q()},m(n,d){e&&ee(e,n,d),J(n,a,d),c=!0},p(n,d){const o=d&32?fe(i,[pe(n[5])]):{};if(s!==(s=n[6])){if(e){ce();const v=e;z(v.$$.fragment,1,0,()=>{te(v,1)}),re()}s?(e=x(s,m()),$(e.$$.fragment),V(e.$$.fragment,1),ee(e,a.parentNode,a)):e=null}else s&&e.$set(o)},i(n){c||(e&&V(e.$$.fragment,n),c=!0)},o(n){e&&z(e.$$.fragment,n),c=!1},d(n){n&&_(a),e&&te(e,n)}}}function De(r){let e,a,c,i,s,m,n,d,o,v,b;function g(l,h){return l[2]==""?Ne:be}let k=g(r),p=k(r),t=r[0]===!0&&r[1]!==""&&le(r);return{c(){p.c(),e=E("link"),a=S(),c=E("div"),i=E("label"),s=E("input"),m=P(`
        Upload Deck`),n=S(),t&&t.c(),d=Q(),this.h()},l(l){const h=ue("svelte-b7za2c",document.head);p.l(h),e=w(h,"LINK",{rel:!0,type:!0,href:!0}),h.forEach(_),a=U(l),c=w(l,"DIV",{class:!0});var N=O(c);i=w(N,"LABEL",{class:!0});var D=O(i);s=w(D,"INPUT",{type:!0,accept:!0,class:!0}),m=R(D,`
        Upload Deck`),D.forEach(_),N.forEach(_),n=U(l),t&&t.l(l),d=Q(),this.h()},h(){u(e,"rel","icon"),u(e,"type","image/x-icon"),u(e,"href","/favicon.ico"),u(s,"type","file"),u(s,"accept",".json"),u(s,"class","svelte-1hrshh0"),u(i,"class","custom-file-upload svelte-1hrshh0"),u(c,"class","file-wrapper svelte-1hrshh0")},m(l,h){p.m(document.head,null),f(document.head,e),J(l,a,h),J(l,c,h),f(c,i),f(i,s),r[8](s),f(i,m),r[9](c),J(l,n,h),t&&t.m(l,h),J(l,d,h),o=!0,v||(b=F(s,"change",r[7]),v=!0)},p(l,[h]){k!==(k=g(l))&&(p.d(1),p=k(l),p&&(p.c(),p.m(e.parentNode,e))),l[0]===!0&&l[1]!==""?t?(t.p(l,h),h&3&&V(t,1)):(t=le(l),t.c(),V(t,1),t.m(d.parentNode,d)):t&&(ce(),z(t,1,1,()=>{t=null}),re())},i(l){o||(V(t),o=!0)},o(l){z(t),o=!1},d(l){p.d(l),_(e),l&&_(a),l&&_(c),r[8](null),r[9](null),l&&_(n),t&&t.d(l),l&&_(d),v=!1,b()}}}function Ee(r,e,a){let c=!1,i="",s="",m,n,d=ke,o;function v(){let k=m.files[0];a(2,s=k.name);const p=new FileReader;p.addEventListener("load",()=>{a(1,i=p.result),i!==""&&(a(0,c=!0),n.remove(),a(1,i=JSON.parse(i)),a(2,s=s.replace(/\.json/,"")),a(5,o={setDeckName:s,cardsJSON:i}))},!1),p.readAsText(k)}function b(k){q[k?"unshift":"push"](()=>{m=k,a(3,m)})}function g(k){q[k?"unshift":"push"](()=>{n=k,a(4,n)})}return[c,i,s,m,n,o,d,v,b,g]}class ye extends se{constructor(e){super(),ne(this,e,Ee,De,ae,{})}}export{ye as default};
