import{S as F,i as P,s as R,e as T,b as S,B as N,h as p,k as v,q as A,l as g,m as E,r as I,n as k,G as y,J as B,a as D,c as C,u as q,K as J,I as K,f as j,t as L,d as z,w as G,x as H,y as W,z as X,g as Y,M}from"../../../chunks/index-d0c9c8b6.js";function Z(o){let e,r,s,l,t;return{c(){e=v("div"),r=v("button"),s=A("Study Again"),this.h()},l(n){e=g(n,"DIV",{class:!0});var a=E(e);r=g(a,"BUTTON",{class:!0});var _=E(r);s=I(_,"Study Again"),_.forEach(p),a.forEach(p),this.h()},h(){k(r,"class","study-again svelte-w7t4xy"),k(e,"class","study-again-wrapper svelte-w7t4xy")},m(n,a){S(n,e,a),y(e,r),y(r,s),l||(t=B(r,"click",o[8]),l=!0)},p:N,d(n){n&&p(e),l=!1,t()}}}function x(o){let e;function r(t,n){return t[3]==!0?ee:$}let s=r(o),l=s(o);return{c(){l.c(),e=T()},l(t){l.l(t),e=T()},m(t,n){l.m(t,n),S(t,e,n)},p(t,n){s===(s=r(t))&&l?l.p(t,n):(l.d(1),l=s(t),l&&(l.c(),l.m(e.parentNode,e)))},d(t){l.d(t),t&&p(e)}}}function $(o){let e,r,s=o[0].cards[o[1][o[2]]]+"",l,t,n,a,_,m,f,h,w,d;return{c(){e=v("div"),r=v("h1"),l=A(s),t=D(),n=v("div"),a=v("button"),_=A("Correct?"),m=D(),f=v("button"),h=A("Incorrect?"),this.h()},l(i){e=g(i,"DIV",{class:!0});var c=E(e);r=g(c,"H1",{class:!0});var u=E(r);l=I(u,s),u.forEach(p),t=C(c),n=g(c,"DIV",{class:!0});var b=E(n);a=g(b,"BUTTON",{class:!0});var U=E(a);_=I(U,"Correct?"),U.forEach(p),m=C(b),f=g(b,"BUTTON",{class:!0});var O=E(f);h=I(O,"Incorrect?"),O.forEach(p),b.forEach(p),c.forEach(p),this.h()},h(){k(r,"class","answer svelte-w7t4xy"),k(a,"class","correct answer-button svelte-w7t4xy"),k(f,"class","incorrect answer-button svelte-w7t4xy"),k(n,"class","button-wrapper svelte-w7t4xy"),k(e,"class","answer-wrapper svelte-w7t4xy")},m(i,c){S(i,e,c),y(e,r),y(r,l),y(e,t),y(e,n),y(n,a),y(a,_),y(n,m),y(n,f),y(f,h),w||(d=[B(a,"click",o[6]),B(f,"click",o[7])],w=!0)},p(i,c){c&7&&s!==(s=i[0].cards[i[1][i[2]]]+"")&&q(l,s)},d(i){i&&p(e),w=!1,J(d)}}}function ee(o){let e,r=o[1][o[2]]+"",s,l,t,n,a,_;return{c(){e=v("button"),s=A(r),l=v("br"),t=v("span"),n=A("Click to flip"),this.h()},l(m){e=g(m,"BUTTON",{class:!0});var f=E(e);s=I(f,r),l=g(f,"BR",{}),t=g(f,"SPAN",{class:!0});var h=E(t);n=I(h,"Click to flip"),h.forEach(p),f.forEach(p),this.h()},h(){k(t,"class","click-notifier svelte-w7t4xy"),k(e,"class","reveal-answer svelte-w7t4xy")},m(m,f){S(m,e,f),y(e,s),y(e,l),y(e,t),y(t,n),a||(_=B(e,"click",o[5]),a=!0)},p(m,f){f&6&&r!==(r=m[1][m[2]]+"")&&q(s,r)},d(m){m&&p(e),a=!1,_()}}}function te(o){let e;function r(t,n){return t[4]==!1?x:Z}let s=r(o),l=s(o);return{c(){l.c(),e=T()},l(t){l.l(t),e=T()},m(t,n){l.m(t,n),S(t,e,n)},p(t,[n]){s===(s=r(t))&&l?l.p(t,n):(l.d(1),l=s(t),l&&(l.c(),l.m(e.parentNode,e)))},i:N,o:N,d(t){l.d(t),t&&p(e)}}}function Q(o){let e={};for(let[r,s]of Object.entries(o.cards))e[r]=2;return e}function se(o,e,r){let{deck:s}=e,l=Q(s),t=Object.keys(s.cards).map(d=>({value:d,sort:Math.random()})).sort((d,i)=>d.sort-i.sort).map(({value:d})=>d),n=0,a=!0,_=!1;function m(){r(3,a=!1)}function f(){if(r(3,a=!0),l[t[n]]-=1,l[t[n]]===0&&t.splice(n,1),t.length===0&&r(4,_=!0),r(2,n=(n+1)%t.length),n===0){let d=Object.keys(d).map(i=>({value:i,sort:Math.random()})).sort((i,c)=>i.sort-c.sort).map(({value:i})=>i)}}function h(){r(3,a=!0),l[t[n]]<2&&(l[t[n]]+=1),r(2,n=(n+1)%t.length)}function w(){l=Q(s),r(1,t=Object.keys(s.cards).map(d=>({value:d,sort:Math.random()})).sort((d,i)=>d.sort-i.sort).map(({value:d})=>d)),r(2,n=0),r(3,a=!0),r(4,_=!1)}return o.$$set=d=>{"deck"in d&&r(0,s=d.deck)},[s,t,n,a,_,m,f,h,w]}class le extends F{constructor(e){super(),P(this,e,se,te,R,{deck:0})}}function re(o){return document.title="Study - "+o[1],{c:N,l:N,m:N,d:N}}function ne(o){return{c(){this.h()},l(e){this.h()},h(){document.title="Study"},m:N,d:N}}function V(o){let e,r;return e=new le({props:{deck:o[0]}}),{c(){G(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,l){W(e,s,l),r=!0},p(s,l){const t={};l&1&&(t.deck=s[0]),e.$set(t)},i(s){r||(j(e.$$.fragment,s),r=!0)},o(s){L(e.$$.fragment,s),r=!1},d(s){X(e,s)}}}function oe(o){let e,r,s,l,t,n,a,_,m,f,h;function w(u,b){return u[1]==""?ne:re}let d=w(o),i=d(o),c=o[4]&&V(o);return{c(){i.c(),e=v("link"),r=D(),s=v("div"),l=v("label"),t=v("input"),n=A(`
        Upload Deck`),a=D(),c&&c.c(),_=T(),this.h()},l(u){const b=K("svelte-jfh22m",document.head);i.l(b),e=g(b,"LINK",{rel:!0,type:!0,href:!0}),b.forEach(p),r=C(u),s=g(u,"DIV",{class:!0});var U=E(s);l=g(U,"LABEL",{class:!0});var O=E(l);t=g(O,"INPUT",{type:!0,accept:!0,class:!0}),n=I(O,`
        Upload Deck`),O.forEach(p),U.forEach(p),a=C(u),c&&c.l(u),_=T(),this.h()},h(){k(e,"rel","icon"),k(e,"type","image/x-icon"),k(e,"href","/favicon.ico"),k(t,"type","file"),k(t,"accept",".json"),k(t,"class","svelte-14yg2g0"),k(l,"class","custom-file-upload svelte-14yg2g0"),k(s,"class","file-wrapper svelte-14yg2g0")},m(u,b){i.m(document.head,null),y(document.head,e),S(u,r,b),S(u,s,b),y(s,l),y(l,t),o[6](t),y(l,n),o[7](s),S(u,a,b),c&&c.m(u,b),S(u,_,b),m=!0,f||(h=B(t,"change",o[5]),f=!0)},p(u,[b]){d!==(d=w(u))&&(i.d(1),i=d(u),i&&(i.c(),i.m(e.parentNode,e))),u[4]?c?(c.p(u,b),b&16&&j(c,1)):(c=V(u),c.c(),j(c,1),c.m(_.parentNode,_)):c&&(Y(),L(c,1,1,()=>{c=null}),z())},i(u){m||(j(c),m=!0)},o(u){L(c),m=!1},d(u){i.d(u),p(e),u&&p(r),u&&p(s),o[6](null),o[7](null),u&&p(a),c&&c.d(u),u&&p(_),f=!1,h()}}}function ce(o,e,r){let s="",l="",t,n,a=!1;function _(){let h=t.files[0];r(1,l=h.name);const w=new FileReader;w.addEventListener("load",()=>{r(0,s=w.result),s!==""&&(n.remove(),r(0,s=JSON.parse(s)),r(1,l=l.replace(/\.json/,"")),r(4,a=!0))},!1),w.readAsText(h)}function m(h){M[h?"unshift":"push"](()=>{t=h,r(2,t)})}function f(h){M[h?"unshift":"push"](()=>{n=h,r(3,n)})}return[s,l,t,n,a,_,m,f]}class ue extends F{constructor(e){super(),P(this,e,ce,oe,R,{})}}export{ue as default};
